const { name } = require('../config/pkg.json');
const fetch = require('node-fetch');

module.exports = async () => {
    const body = await fetch('https://registry.npmjs.org/super-djs').then((res) => {
        if (res.status === 404) return;
        return res.json();
    });

    if (require('../../package.json').version !== body["dist-tags"].latest) {
        console.warn(`[${name}: WARN] You are currently using a version that is not the latest or in a dev version!\n   > Installed: v${require('../../package.json').version}\n   > Latest: v${body['dist-tags'].latest}\n[!] Use 'npm i super-djs@latest' to install the latest version.`);
    };
};