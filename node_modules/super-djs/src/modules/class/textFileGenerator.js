const { name } = require('../../config/pkg.json');

try {
    require('discord.js');
} catch (err) {
    throw new Error(`[${name}: NODEJS_PACKAGE_ERROR] discord.js package is not installed, run in the terminal this command: npm i discord.js@latest`);
};

const { AttachmentBuilder } = require('discord.js');

module.exports = class TextFileGenerator {
    constructor(content, fileName = "document", fileLanguage = "txt") {
        if (!content) throw new Error(`[${name}: MISSING_PARAMETER] The parameter 'content' is required to provide.`);

        const file = new AttachmentBuilder(
            Buffer.from(content, "utf-8"), { name: `${fileName || "document"}.${fileLanguage || "txt"}` }
        );

        return file;
    };
};