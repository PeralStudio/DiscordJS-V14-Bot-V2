const colors = require('../data.json');
const { name } = require('../../config/pkg.json');

module.exports = function colourText(text, color, style) {
    if (!text) throw new Error(`[${name}: MISSING_PARAMETER] The parameter 'text' is required to provide.`);

    if (typeof text !== 'string') throw new TypeError(`[${name}: INVALID_TYPE] 'text' parameter is not a String.`);

    if (!color) throw new Error(`[${name}: MISSING_PARAMETER] The parameter 'color' is required to provide.`);

    if (typeof color !== 'string') throw new TypeError(`[${name}: INVALID_TYPE] 'color' parameter is not a String.`);

    if (!colors.colors[color]) throw new ReferenceError(`[${name}: INVALID_OPTION] The provided value ('${color}') for the parameter 'color' is invalid.`);

    if (style) {
        if (!colors.colorStyles[style]) throw new ReferenceError(`[${name}: INVALID_OPTION] The provided value ('${style}') for the parameter 'style' is invalid.`);
    };

    return `\x1b${colors.colors[color]}${style ? `\x1b${colors.colorStyles[style]}` : ""}${text}\x1b[0m`
};